# EveryLink (모링) - 프로젝트 진행상황

**최종 업데이트**: 2025-10-16

## 프로젝트 상태

**현재 버전**: v1.0.0+1
**Git 브랜치**: main
**상태**: 개발 완료 (배포 대기)

## 완료된 기능

### Phase 0: 초기 개발 (2024)

#### v0.1 - 기본 구조 (52c5843)
- ✅ Flutter 프로젝트 초기화
- ✅ Clean Architecture 3계층 구조 설계
- ✅ Drift 데이터베이스 스키마 v1 설계 (urls, categories, url_categories)
- ✅ 기본 CRUD 기능 구현

#### v0.2 - 링크 정규화 (75c2ebd)
- ✅ URL 정규화 로직 구현 (https:// 자동 추가)
- ✅ 링크 title 정규화 로직 수정
- ✅ 메타데이터 수집 서비스 구현 (MetadataService)
- ✅ OG 태그 파싱 및 HTML title 추출
- ✅ 인메모리 캐싱 (200개 제한)

#### v0.3 - 구조 최신화 및 중복 제거 (0d811d9)
- ✅ 프로젝트 구조 리팩토링
- ✅ 중복 기능 제거 및 코드 정리
- ✅ Repository 패턴 적용 (LinkRepository)
- ✅ 카테고리 정규화 서비스 구현
- ✅ 데이터베이스 스키마 v2 (memo, note 필드 추가)

#### v0.4 - AdMob 및 다크모드 (bfab7e6, e7450cf)
- ✅ Google AdMob 통합
- ✅ AdService 구현 (배너 광고)
- ✅ 라이트/다크 테마 구현
- ✅ Riverpod 기반 테마 상태 관리
- ✅ Material 3 디자인 적용
- ✅ 브랜드 컬러 (#16BEA8) 통합
- ✅ Google Fonts 적용 (Noto Sans KR, Nunito)
- ✅ 데이터베이스 스키마 v3 (visible 필드 추가)
- ✅ 카테고리 가시성 규칙 구현

#### v0.5 - 공유 기능 (f72ea44)
- ✅ share_plus 패키지 통합
- ✅ 저장된 링크 타 앱으로 공유 기능
- ✅ URL 클립보드 복사 기능
- ✅ 공유 인텐트 수신 기능 (receive_sharing_intent)
- ✅ 다른 앱에서 URL 공유 받기
- ✅ Android Manifest 공유 인텐트 필터 설정

## 현재 구현된 기능 목록

### 1. 링크 관리
- [x] URL 저장 (upsert 패턴)
- [x] 자동 메타데이터 수집 (제목, OG 이미지)
- [x] 링크 편집 (URL, 제목, 메모, 카테고리)
- [x] 링크 삭제 (CASCADE + 고아 정리)
- [x] 링크 공유 (share_plus)
- [x] URL 클립보드 복사
- [x] 외부 브라우저에서 열기

### 2. 카테고리 관리
- [x] 카테고리 생성 (upsert 패턴)
- [x] N:M 관계 (하나의 링크에 여러 카테고리)
- [x] 카테고리 정규화 (소문자 + trim)
- [x] 카테고리 이름 변경
- [x] 카테고리 병합 (동일 이름으로 통합)
- [x] 카테고리 삭제
- [x] 카테고리 메모 추가
- [x] 카테고리 표시/숨김 토글
- [x] 카테고리 통계 (링크 개수)
- [x] 자동 완성 (prefix 기반)
- [x] 고아 카테고리 자동 정리

### 3. 가시성 시스템 (v3)
- [x] 카테고리별 visible 플래그
- [x] 가시성 규칙: 하나라도 invisible이면 링크 전체 숨김
- [x] CTE 기반 efficient 쿼리
- [x] 홈 화면: visible 링크만 표시
- [x] 관리 화면: 모든 카테고리 표시 및 토글
- [x] 가시성 통과 링크 기준 통계

### 4. 검색 및 필터링
- [x] 키워드 검색 (URL, 제목, 메모, 카테고리)
- [x] 카테고리별 필터링
- [x] TOP 5 인기 카테고리 표시
- [x] 전체 카테고리 목록 (알파벳순)
- [x] 실시간 검색

### 5. UI/UX
- [x] 홈 화면 (링크 목록)
- [x] 카테고리 관리 화면
- [x] 링크 추가/편집 바텀 시트
- [x] 카테고리 칩 UI
- [x] 링크 타일 (썸네일, 제목, URL)
- [x] 더보기 메뉴 (열기, 공유, 복사, 편집, 삭제)
- [x] 라이트/다크 모드 전환
- [x] 시스템 테마 추종
- [x] Pull-to-refresh
- [x] 빈 상태 힌트
- [x] 배너 광고 하단 통합
- [x] 스플래시 스크린
- [x] 앱 아이콘

### 6. 데이터베이스
- [x] Drift ORM 설정
- [x] 3 테이블 스키마 (urls, categories, url_categories)
- [x] 스키마 마이그레이션 (v1 → v2 → v3)
- [x] 트랜잭션 처리
- [x] Upsert 패턴
- [x] CASCADE 삭제
- [x] 복합 쿼리 (JOIN, CTE)

### 7. 외부 연동
- [x] 공유 인텐트 수신 (다른 앱에서 URL 받기)
- [x] 링크 공유 (다른 앱으로 보내기)
- [x] AdMob 배너 광고
- [x] HTTP 메타데이터 수집
- [x] 외부 브라우저 실행

## 현재 알려진 이슈

### 🔴 배포 차단 이슈
- ❗ AdMob 테스트 ID 사용 중 → 실제 ID로 교체 필요

### 🟡 개선 필요
- ⚠️ WillPopScope deprecated → PopScope로 마이그레이션 필요
- ⚠️ BuildContext async gap 일부 존재 (mounted 체크는 있음)

### 🟢 최적화 가능
- 💡 fuzzy.dart (BK-tree) 구현되어 있으나 미사용
- 💡 used_count 컬럼 존재하나 현재 업데이트 안 됨

## 코드 품질 현황

### 아키텍처
- ✅ Clean Architecture 3계층 구조 적용
- ✅ Repository 패턴 구현
- ✅ 도메인 모델 분리
- ✅ 서비스 계층 분리

### 코드 조직
- ✅ 기능별 폴더 구조
- ✅ 명확한 책임 분리
- ✅ 재사용 가능한 위젯
- ✅ 일관된 네이밍 컨벤션

### 데이터베이스 설계
- ✅ 정규화된 스키마 (3NF)
- ✅ 외래 키 제약조건
- ✅ 인덱스 (자동 생성)
- ✅ 마이그레이션 전략

### 테스트
- ⚠️ 기본 위젯 테스트만 존재 (확장 필요)
- ⚠️ 유닛 테스트 부족
- ⚠️ 통합 테스트 없음

## 배포 준비 체크리스트

### 필수 (배포 전 완료 필요)
- [ ] AdMob 실제 ID 교체
  - [ ] `lib/domain/services/ad_service.dart` - Banner Unit IDs
  - [ ] `android/app/src/main/AndroidManifest.xml` - APPLICATION_ID
  - [ ] `ios/Runner/Info.plist` - GADApplicationIdentifier
- [ ] 앱 스토어 등록 정보 준비
  - [ ] 앱 설명
  - [ ] 스크린샷 (라이트/다크 모드)
  - [ ] 개인정보 처리방침
  - [ ] 이용약관
- [ ] 버전 정보 업데이트
  - [ ] pubspec.yaml version
  - [ ] iOS Info.plist
  - [ ] Android build.gradle

### 권장 (배포 전 개선 권장)
- [ ] WillPopScope → PopScope 마이그레이션
- [ ] 추가 테스트 작성
  - [ ] 유닛 테스트 (Repository, Service)
  - [ ] 위젯 테스트 (주요 화면)
  - [ ] 통합 테스트 (주요 플로우)
- [ ] 성능 프로파일링
- [ ] 접근성 개선 (Semantics)
- [ ] 에러 로깅 서비스 연동 (Sentry, Firebase Crashlytics 등)
- [ ] 분석 도구 연동 (Google Analytics, Firebase Analytics 등)

### 선택 (추후 개선 가능)
- [ ] 다국어 지원 (i18n)
- [ ] 백업/복원 기능
- [ ] 링크 가져오기 (CSV, JSON 등)
- [ ] 링크 내보내기
- [ ] 태그 시스템 (카테고리와 별도)
- [ ] 즐겨찾기 기능
- [ ] 링크 미리보기 (WebView)
- [ ] 오프라인 캐싱 (전체 페이지)

## 기술 스택 요약

### Frontend
- Flutter 3.x
- Dart ^3.5.4
- Material 3 Design
- Riverpod 2.5.0 (상태 관리)

### Database
- Drift 2.18.0 (SQLite ORM)
- drift_sqflite 2.0.1 (백엔드)
- 스키마 버전: 3

### Services
- HTTP 메타데이터 수집
- Google AdMob 5.3.0
- receive_sharing_intent 1.4.5
- share_plus 10.1.2

### UI
- google_fonts 6.2.1
- cached_network_image 3.3.1
- Material Design 3

## 다음 단계 (배포 후 로드맵)

### v1.1 (단기 - 1개월)
- [ ] AdMob 실제 ID 적용 및 배포
- [ ] 사용자 피드백 수집
- [ ] 버그 수정 및 안정화
- [ ] 성능 최적화

### v1.2 (중기 - 3개월)
- [ ] 백업/복원 기능
- [ ] 다국어 지원 (영어)
- [ ] 링크 가져오기/내보내기
- [ ] 사용자 분석 연동

### v2.0 (장기 - 6개월+)
- [ ] 클라우드 동기화 (Firebase)
- [ ] 멀티 디바이스 지원
- [ ] 소셜 공유 (친구와 카테고리 공유)
- [ ] AI 기반 자동 카테고리 제안
- [ ] 웹 버전 개발

## 팀 및 연락처

**개발자**: (여기에 이름 추가)
**프로젝트 저장소**: (여기에 GitHub URL 추가)
**문의**: (여기에 이메일 추가)

## 변경 이력

### 2024
- **Initial commit** (52c5843): 프로젝트 초기화
- **v0 단계**: 링크 정규화, 구조 최신화, AdMob/다크모드, 공유 기능 추가

### 2025
- 현재 v1.0.0+1 개발 완료, 배포 대기 중

---

**참고**: 이 문서는 프로젝트 재시작 시 Claude가 프로젝트 상태를 파악하는 데 사용됩니다. 주요 변경사항이 있을 때마다 업데이트하세요.
